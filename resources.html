<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CardiKind | Resources</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500&family=Nunito:wght@400;700&display=swap" rel="stylesheet" />
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Nunito', 'sans-serif'],
            heading: ['Playfair Display', 'serif'],
          },
          colors: {
            primary: '#ff6b00',
            softgray: '#f4f4f4',
            lightgray: '#cccccc',
          },
        },
      },
    };
  </script>
</head>
<body class="bg-softgray text-gray-900 font-sans">

<div id="header-placeholder" class="min-h-[80px]"></div>
<script>
  fetch("header.html")
    .then(res => res.text())
    .then(data => {
      document.getElementById("header-placeholder").innerHTML = data;
    });
</script>


  <!-- Page Header -->
  <section class="text-center py-12 bg-white">
    <h2 class="text-4xl font-heading font-bold text-primary mb-4">Explore Heart Health Organizations</h2>
    <p class="text-lg text-gray-700 max-w-2xl mx-auto">Browse our global directory of trusted heart health organizations and foundations.</p>
  </section>

  <!-- Search Field -->
  <section class="px-6 py-6 bg-orange-50">
    <div class="max-w-xl mx-auto">
      <input
        type="search"
        id="searchInput"
        placeholder="Search organizations by name or city..."
        class="w-full p-3 border border-lightgray rounded-md text-lg focus:outline-none focus:ring-2 focus:ring-primary"
        aria-label="Search organizations"
      />
    </div>
  </section>

  <!-- Resource Cards -->
<section class="px-6 pt-12 pb-20">
  <div id="orgList" class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3 max-w-screen-xl px-4 mx-auto">
    <!-- JS renders cards here -->
  </div>
  <div class="text-center mt-8">
    <button id="loadMoreBtn" class="bg-primary text-white px-6 py-3 rounded shadow hover:bg-orange-600 transition hidden">
      Load More
    </button>
  </div>
</section>


<div id="footer-placeholder" class="min-h-[200px]"></div>

<script>
  fetch("footer.html")
    .then(response => response.text())
    .then(data => {
      document.getElementById("footer-placeholder").innerHTML = data;
    });
</script>


  <script>
    // Embedded JSON data
    const orgs = [
      {
    "name": "American Heart Association",
    "url": "https://www.heart.org",
    "image": "https://www.southwestern.edu/live/image/gid/30/width/1000/height/563/crop/1/50085_SU_WebArticle_AmerHeartAssociation_.rev.1707225646.jpg",
    "city": "Dallas, Texas, USA"
  },
  {
    "name": "British Heart Foundation",
    "url": "https://www.bhf.org.uk",
    "image": "https://clapham-junction.transforms.svdcdn.com/production/assets/images/business-directory/AZ_British_Heart_Foundation.png?w=1120&h=800&q=82&fm=webp&fit=crop&dm=1576068187&s=1ee494cc1fd3b2136ec569bf651e7817",
    "city": "London, England"
  },
  {
    "name": "Heart Foundation (Australia)",
    "url": "https://www.heartfoundation.org.au",
    "image": "https://i.ytimg.com/vi/EbAuD02ed5k/maxresdefault.jpg",
    "city": "Melbourne, Australia"
  },
  {
    "name": "Canadian Heart and Stroke Foundation",
    "url": "https://www.heartandstroke.ca",
    "image": "https://i.vimeocdn.com/video/1770833913-6b2060dd513a879b89612524f67d84224397bbf25b77076af2ae150a2cd6551e-d?f=webp",
    "city": "Ottawa, Ontario, Canada"
  },
  {
    "name": "Indian Heart Association",
    "url": "http://www.indianheartassociation.org",
    "image": "https://indianheartassociation.org/wp-content/uploads/2023/04/Indian-Heart-Association-logo-large.png",
    "city": "Hyderabad, India"
  },
  {
    "name": "South Asian Heart Center",
    "url": "https://www.sahc.org",
    "image": "https://www.getcare.elcaminohealth.org/images/width=480,fit=cover/https://a.mktgcdn.com/p/eLVya-DzaLOyPTF40LkacJbkl_IKeFM1bP9htmp19Wg/3500x2336.jpg",
    "city": "Mountain View, California, USA"
  },
  {
    "name": "European Society of Cardiology",
    "url": "https://www.escardio.org",
    "image": "https://images.zapnito.com/cdn-cgi/image/metadata=copyright,format=auto,quality=95,fit=scale-down/https://images.zapnito.com/users/457141/posters/bf23b587-1b33-4152-afae-05ddacd3d73f_large.jpeg",
    "city": "Sophia Antipolis, France"
  },
  {
    "name": "World Heart Federation",
    "url": "https://www.world-heart-federation.org",
    "image": "https://world-heart-federation.org/wp-content/uploads/2021/04/Thumb_Logo_WHF.jpg",
    "city": "Geneva, Switzerland"
  },
  {
    "name": "American College of Cardiology",
    "url": "https://www.acc.org",
    "image": "https://upload.wikimedia.org/wikipedia/commons/3/31/American_College_of_Cardiology_HQ_DC_October_2024.jpg",
    "city": "Washington, D.C., USA"
  },
  {
    "name": "Children’s Heart Foundation",
    "url": "https://www.childrensheartfoundation.org",
    "image": "https://cdn.firespring.com/images/3abd5ff6-56e5-4cd9-bb12-27e04f6537d5.png",
    "city": "Chicago, Illinois, USA"
  },
  {
    "name": "WomenHeart: The National Coalition for Women with Heart Disease",
    "url": "https://www.womenheart.org",
    "image": "https://bridesforacause.com/wp-content/uploads/2023/03/Screenshot-2023-03-15-at-12.29.10-PM.png",
    "city": "Washington, D.C., USA"
  },
  {
    "name": "Mended Hearts",
    "url": "https://www.mendedhearts.org",
    "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSxSOvsNl1MsU_0Otco774Ets6OYznl7jmztg&s",
    "city": "Dallas, Texas, USA"
  },
  {
    "name": "American Society for Preventive Cardiology",
    "url": "https://www.aspconline.org",
    "image": "https://assets.noviams.com/novi-file-uploads/aspc/structure/main_logo.png",
    "city": "Kingwood, Texas, USA"
  },
  {
    "name": "United OneHeart Foundation",
    "url": "https://www.oneheartfoundation.org",
    "image": "https://oneheart.co/cdn/shop/files/Tanzania_GroupShot_Dean_Tony_IntroductionLarge560x360.jpg?v=1685512960&width=560",
    "city": "Bangalore, India"
  },
  {
    "name": "Children’s Cardiomyopathy Foundation",
    "url": "https://www.childrenscardiomyopathy.org",
    "image": "https://yt3.googleusercontent.com/oICiLcPVnPAx5fsa7ZO80GbYENKwINwBO0AGzPKmIvM91nfRJXiA2RMvPE6cFVuAceCLbDfc=s900-c-k-c0x00ffffff-no-rj",
    "city": "Tenafly, New Jersey, USA"
  },
  {
    "name": "Save a Child’s Heart",
    "url": "https://www.saveachildsheart.org",
    "image": "https://cdn.prod.website-files.com/5eff944612508922735537f0/5eff94461250899a58553a36_SACH_Dr_Assa_3.jpg",
    "city": "Holon, Israel"
  },
  {
    "name": "National Stroke Association",
    "url": "https://www.stroke.org",
    "image": "https://upload.wikimedia.org/wikipedia/en/1/1a/National_Stroke_Association_logo.svg",
    "city": "Denver, Colorado, USA"
  },
  {
    "name": "Heart and Stroke Foundation of South Africa",
    "url": "https://www.heartfoundation.co.za",
    "image": "https://heartfoundation.co.za/wp-content/uploads/2021/02/Heart-and-Stroke-Foundation-Logo-scaled.jpg",
    "city": "Cape Town, South Africa"
  },
  {
    "name": "Heart Foundation New Zealand",
    "url": "https://www.heartfoundation.org.nz",
    "image": "https://upload.wikimedia.org/wikipedia/commons/9/92/National_Heart_Foundation_of_New_Zealand_20231024_141603_02.jpg",
    "city": "Auckland, New Zealand"
  },
  {
    "name": "Cardiovascular Research Foundation",
    "url": "https://www.crf.org",
    "image": "https://crf.org/images/facebook/crf.jpg",
    "city": "New York, New York, USA"
  },
  {
    "name": "European Heart Network",
    "url": "https://www.ehnheart.org",
    "image": "https://ehnheart.org/wp-content/uploads/2023/10/06868-EHN-logo_RGB.png",
    "city": "Brussels, Belgium"
  },
  {
    "name": "National Heart, Lung, and Blood Institute",
    "url": "https://www.nhlbi.nih.gov",
    "image": "https://img.hub.heart.org/files/base/ascend/hh/image/2022/10/Bldg1_AHM.634f7376e5ae0.png?auto=format%2Ccompress&fit=max&q=70&w=1200",
    "city": "Bethesda, Maryland, USA"
  },
  {
    "name": "National Institute for Health and Care Excellence",
    "url": "https://www.nice.org.uk",
    "image": "https://www.nice.org.uk/open-graph/open-graph-1200x630.png",
    "city": "Manchester, England"
  },
  {
    "name": "American College of Preventive Medicine",
    "url": "https://www.acpm.org",
    "image": "https://lifestylemedicine.org/wp-content/uploads/2022/06/acpm-edpassport.jpg",
    "city": "Washington, D.C., USA"
  },
  {
    "name": "CardioSmart",
    "url": "https://www.cardiosmart.org",
    "image": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRzg0rqY_3RdJ-aGkpU1Dqix06B1uR_rCzytw&s",
    "city": "Washington, D.C., USA"
  }
    ];

  const orgList = document.getElementById('orgList');
  const searchInput = document.getElementById('searchInput');
  const loadMoreBtn = document.getElementById('loadMoreBtn');

  let currentDisplayCount = 12;
  const batchSize = 12;
  let currentFilter = '';

  function renderList(filter = '', reset = true) {
    const filteredOrgs = orgs.filter(org =>
      org.name.toLowerCase().includes(filter.toLowerCase()) ||
      org.city.toLowerCase().includes(filter.toLowerCase())
    );

    if (reset) {
      currentDisplayCount = 0;
      orgList.innerHTML = '';
    }

    const slice = filteredOrgs.slice(currentDisplayCount, currentDisplayCount + batchSize);
    currentDisplayCount += batchSize;

    if (filteredOrgs.length === 0) {
      orgList.innerHTML = '<p class="text-center text-gray-500 col-span-full">No organizations found.</p>';
      loadMoreBtn.classList.add('hidden');
      return;
    }

    orgList.innerHTML += slice.map(org => `
      <div class="bg-white rounded-lg shadow-lg p-6 flex flex-col items-center text-center hover:shadow-xl transition h-full min-h-[22rem]">
        <img src="${org.image}" alt="${org.name} logo" class="w-full h-56 object-contain mb-6 rounded-md" loading="lazy" />
        <a href="${org.url}" target="_blank" rel="noopener noreferrer" class="text-xl font-semibold text-primary hover:underline mb-1 min-h-[3rem] flex items-center justify-center text-center">${org.name}</a>
        <p class="text-base text-gray-600"><span class="mr-1">📍</span>${org.city}</p>
      </div>
    `).join('');

    if (currentDisplayCount >= filteredOrgs.length) {
      loadMoreBtn.classList.add('hidden');
    } else {
      loadMoreBtn.classList.remove('hidden');
    }
  }

  searchInput.addEventListener('input', e => {
    currentFilter = e.target.value;
    renderList(currentFilter, true);
  });

  loadMoreBtn.addEventListener('click', () => {
    renderList(currentFilter, false);
  });

  renderList();
</script>

</body>
</html>
